<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Preconnect voor externe resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    
    <!-- DNS prefetch voor externe domains -->
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//www.bol.com">
    
    <title>Thuisbatterij Kopen? Vergelijk Alle Merken & Prijzen 2025</title>
    <meta name="description" content="Thuisbatterij kopen? Wat kost een thuisbatterij? ✓ Growatt ✓ Dyness ✓ Victron ✓ HomeWizard ✓ Zonneplan ✓ Subsidie 2025 ✓ Vanaf €3.500 ✓ Bespaar €1.200/jaar">
    <meta name="keywords" content="thuisbatterij, thuisbatterij kopen, wat kost thuisbatterij, growatt thuisbatterij, dyness thuisbatterij, victron thuisbatterij, homewizard thuisbatterij, zonneplan thuisbatterij, subsidie thuisbatterij 2025">
    
    <!-- Critical CSS - Inline om render blocking te voorkomen -->
    <style>
        /* Critical above-the-fold CSS */
        .energy-green { color: #10b981; }
        .bg-energy-green { background-color: #10b981; }
        .text-energy-green { color: #10b981; }
        .border-energy-green { border-color: #10b981; }
        .hover\\:text-energy-green:hover { color: #10b981; }
        .hover\\:bg-energy-green\\/90:hover { background-color: rgba(16, 185, 129, 0.9); }
        
        .energy-blue { color: #3b82f6; }
        .bg-energy-blue { background-color: #3b82f6; }
        .text-energy-blue { color: #3b82f6; }
        
        .battery-orange { color: #f59e0b; }
        .bg-battery-orange { background-color: #f59e0b; }
        .text-battery-orange { color: #f59e0b; }
        
        /* Critical layout CSS */
        .hidden { display: none; }
        .block { display: block; }
        .flex { display: flex; }
        .grid { display: grid; }
        .max-w-7xl { max-width: 80rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .text-xl { font-size: 1.25rem; }
        .font-bold { font-weight: 700; }
        .text-gray-900 { color: #111827; }
        .bg-white { background-color: #ffffff; }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .border-b-2 { border-bottom-width: 2px; }
        .h-16 { height: 4rem; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .space-x-2 > * + * { margin-left: 0.5rem; }
        .text-2xl { font-size: 1.5rem; }
        
        /* Hide mobile menu by default */
        #mobile-menu { display: none; }
        
        /* Responsive utilities */
        @media (max-width: 768px) {
            .md\\:hidden { display: none; }
            .md\\:flex { display: block; }
        }
        @media (min-width: 768px) {
            .hidden.md\\:flex { display: flex; }
            .md\\:hidden { display: none !important; }
        }
    </style>
    
    <!-- Deferred Google Analytics -->
    <script>
        // Minimal GA setup - load after page load
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        // Defer GA loading
        function loadGA() {
            const script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-PD4KF244VP';
            document.head.appendChild(script);
            
            script.onload = function() {
                gtag('js', new Date());
                gtag('consent', 'default', { 'analytics_storage': 'denied' });
                
                const consent = localStorage.getItem('cookie-consent');
                if (consent === 'accepted') {
                    gtag('consent', 'update', { 'analytics_storage': 'granted' });
                }
                
                gtag('config', 'G-PD4KF244VP', {
                    page_title: document.title,
                    page_location: window.location.href,
                    anonymize_ip: true
                });
            };
        }
        
        // Load GA after page load
        if (window.addEventListener) {
            window.addEventListener('load', loadGA);
        } else {
            window.attachEvent('onload', loadGA);
        }
    </script>
    
    <!-- Meta tags -->
    <meta property="og:title" content="Thuisbatterij Kopen? Vergelijk Alle Merken & Prijzen 2025">
    <meta property="og:description" content="Thuisbatterij kopen? Wat kost een thuisbatterij? ✓ Growatt ✓ Dyness ✓ Victron ✓ HomeWizard ✓ Zonneplan ✓ Subsidie 2025 ✓ Vanaf €3.500 ✓ Bespaar €1.200/jaar">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="nl_NL">
    
    <!-- Structured Data - Minimized -->
    <script type="application/ld+json">
    {"@context":"https://schema.org","@type":"WebSite","name":"Thuisbatterijwereld","description":"De beste thuisbatterijen vergelijken en kopen. Reviews, prijzen en subsidie informatie.","url":"https://thuisbatterijwereld.nl"}
    </script>
    
    <!-- Deferred external CSS -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"></noscript>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Navigation - Critical above-the-fold content -->
    <nav class="bg-white shadow-lg border-b-2 border-energy-green">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="flex items-center space-x-2">
                        <i class="fas fa-battery-three-quarters text-energy-green text-2xl"></i>
                        <span class="text-xl font-bold text-gray-900">Thuisbatterijwereld.nl</span>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="/" class="text-gray-700 hover:text-energy-green font-medium">Home</a>
                    <a href="/vergelijken" class="text-gray-700 hover:text-energy-green font-medium">Vergelijken</a>
                    <a href="/kopen" class="text-gray-700 hover:text-energy-green font-medium">Kopen</a>
                    <a href="/kosten" class="text-gray-700 hover:text-energy-green font-medium">Kosten</a>
                    <a href="/subsidie" class="text-gray-700 hover:text-energy-green font-medium">Subsidie</a>
                    <a href="/blog" class="text-gray-700 hover:text-energy-green font-medium">Blog</a>
                    <a href="/faq" class="text-gray-700 hover:text-energy-green font-medium">FAQ</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-energy-green focus:outline-none focus:text-energy-green">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden bg-white border-t border-gray-200 hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="/" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Home</a>
                <a href="/vergelijken" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Vergelijken</a>
                <a href="/kopen" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Kopen</a>
                <a href="/kosten" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Kosten</a>
                <a href="/subsidie" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Subsidie</a>
                <a href="/blog" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">Blog</a>
                <a href="/faq" class="block px-3 py-2 text-gray-700 hover:text-energy-green font-medium">FAQ</a>
            </div>
        </div>
    </nav>

    <main>
        <!-- Hero Section - Above the fold -->
        <section class="text-white py-20" style="background: linear-gradient(135deg, #10b981, #3b82f6)">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-4xl md:text-6xl font-bold mb-6">Thuisbatterij Kopen? Vergelijk Alle Merken & Prijzen 2025</h1>
                    <p class="text-xl md:text-2xl mb-8 max-w-4xl mx-auto">Wat kost een thuisbatterij? Vergelijk Growatt, Dyness, Victron, HomeWizard & Zonneplan. Met subsidie vanaf €3.500. Bespaar tot €1.200 per jaar op energiekosten.</p>
                    <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                        <a href="/vergelijken" class="bg-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors text-energy-green">
                            <i class="fas fa-search mr-2"></i>Vergelijk Nu
                        </a>
                        <a href="#voordelen" class="border-2 border-white text-white px-8 py-4 rounded-lg font-bold text-lg transition-colors hover:bg-white hover:text-energy-green">
                            <i class="fas fa-info-circle mr-2"></i>Meer Info
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lazy loaded content -->
        <div id="lazy-content" style="display: none;">
            <!-- Rest of the content will be loaded after first paint -->
        </div>
    </main>

    <!-- Minimal JavaScript - Critical functionality only -->
    <script>
        // Mobile menu toggle - Critical functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileButton && mobileMenu) {
                mobileButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
        
        // Lazy load rest of content after first paint
        function loadRestOfContent() {
            fetch('/static/content-rest.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('lazy-content').innerHTML = html;
                    document.getElementById('lazy-content').style.display = 'block';
                })
                .catch(() => {
                    // Fallback - load inline content
                    loadInlineContent();
                });
        }
        
        function loadInlineContent() {
            const lazyContent = document.getElementById('lazy-content');
            lazyContent.innerHTML = `
                <!-- What is section -->
                <section class="py-16 bg-white">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="max-w-4xl mx-auto text-center">
                            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-gray-900">Wat is een thuisbatterij?</h2>
                            <p class="text-lg text-gray-600 mb-8">Een thuisbatterij is een energieopslagsysteem dat overtollige elektriciteit opslaat voor later gebruik. Hiermee kun je zonne-energie bewaren overdag en 's avonds gebruiken, waardoor je minder stroom hoeft te kopen van het net.</p>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="bg-gray-900 text-white mt-16">
                    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <div class="col-span-1 md:col-span-2">
                                <div class="flex items-center space-x-2 mb-4">
                                    <i class="fas fa-battery-three-quarters text-energy-green text-2xl"></i>
                                    <span class="text-xl font-bold">Thuisbatterijwereld.nl</span>
                                </div>
                                <p class="text-gray-300 mb-4">De beste thuisbatterijen vergelijken en kopen. Onafhankelijke reviews, actuele prijzen en subsidie-informatie.</p>
                                <p class="text-sm text-gray-400">© 2025 Thuisbatterijwereld.nl - Alle rechten voorbehouden</p>
                            </div>
                        </div>
                    </div>
                </footer>
            `;
            lazyContent.style.display = 'block';
        }
        
        // Load after first paint
        window.addEventListener('load', function() {
            setTimeout(loadInlineContent, 100);
        });
    </script>

    <!-- Defer non-critical resources -->
    <script defer>
        // Load Tailwind after page load
        const tailwindScript = document.createElement('script');
        tailwindScript.src = 'https://cdn.tailwindcss.com';
        tailwindScript.onload = function() {
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            'energy-green': '#10b981',
                            'energy-blue': '#3b82f6',
                            'battery-orange': '#f59e0b'
                        }
                    }
                }
            };
        };
        document.head.appendChild(tailwindScript);
        
        // Load main.js after critical content
        setTimeout(function() {
            const mainScript = document.createElement('script');
            mainScript.src = '/static/main.js';
            document.head.appendChild(mainScript);
        }, 500);
    </script>
</body>
</html>